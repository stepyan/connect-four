{"ast":null,"code":"import _slicedToArray from \"/Users/ryzm/Desktop/connect-four/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ryzm/Desktop/connect-four/src/Board.js\";\nimport React, { useState } from 'react';\nimport Square from \"./Square.js\";\nimport wc from './WinningConditions.js';\nimport red from './red.png';\nimport blue from './blue.png';\nimport blank from './blank.png';\nlet winConditions = [];\nlet userOnePlays = [];\nlet userTwoPlays = [];\nlet gameOver = false;\nlet userOneTurn = true;\nlet emptyArray = Array(7).fill(0);\nlet hoverColumn = -1;\nlet animationRunning = false;\nlet baseSpeed = 1.5;\nconst finalTop = {\n  \"--finalTop\": \"500%\"\n};\nconst dropTime = {\n  \"--dropTime\": \"1.5s\"\n};\n\nconst Board = () => {\n  const _useState = useState(Array(42).fill(0)),\n        _useState2 = _slicedToArray(_useState, 2),\n        allPlays = _useState2[0],\n        setAllPlays = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        updated = _useState4[0],\n        setUpdated = _useState4[1];\n\n  const checkIfWinner = () => {\n    if (winConditions.length == 0) {\n      winConditions = wc.getAllWinConditions();\n    }\n\n    if (userOneTurn) {\n      if (checkIfUserIsWinner(1)) {\n        gameOver = true;\n        hoverColumn = -1;\n        alert(\"User One Wins!\");\n      }\n    } else {\n      if (checkIfUserIsWinner(2)) {\n        gameOver = true;\n        hoverColumn = -1;\n        alert(\"User Two Wins!\");\n      }\n    }\n  };\n\n  const checkIfUserIsWinner = user => {\n    let userPlays = user == 1 ? userOnePlays : userTwoPlays;\n    let userWins = false;\n\n    for (let i = 0; i < winConditions.length; i++) {\n      let curWinCondition = winConditions[i];\n      userWins = true;\n\n      for (let j = 0; j < 4; j++) {\n        if (!userPlays.includes(curWinCondition[j])) {\n          userWins = false;\n          break;\n        }\n      }\n\n      if (userWins) {\n        break;\n      }\n    }\n\n    return userWins;\n  };\n\n  const handleClick = column => {\n    animationRunning = false;\n\n    if (allPlays[column] != 0) {\n      return;\n    }\n\n    if (gameOver) {\n      return;\n    }\n\n    let index = 0;\n\n    for (let i = 0; i < 6; i++) {\n      index = column + (5 - i) * 7;\n\n      if (allPlays[index] === 0) {\n        if (userOneTurn) {\n          userOnePlays.push(index);\n        } else {\n          userTwoPlays.push(index);\n        }\n\n        break;\n      }\n    }\n\n    allPlays[index] = userOneTurn ? 1 : 2;\n    checkIfWinner();\n\n    if (!gameOver) {\n      userOneTurn = !userOneTurn;\n    }\n\n    setAllPlays(allPlays);\n    setUpdated(!updated);\n  };\n\n  const runAnimation = column => {\n    let percentage = \"0%\";\n    let time = \".5s\";\n\n    for (let i = 0; i < 6; i++) {\n      let sqrDex = (5 - i) * 7 + column;\n\n      if (allPlays[sqrDex] === 0) {\n        percentage = ((5 - i) * 100 + 100).toString() + \"%\";\n        break;\n      }\n    }\n\n    Object.keys(finalTop).map(key => {\n      finalTop[key] = percentage;\n      const value = finalTop[key];\n      document.documentElement.style.setProperty(key, value);\n    });\n    Object.keys(dropTime).map(key => {\n      dropTime[key] = time;\n      const value = dropTime[key];\n      document.documentElement.style.setProperty(key, value);\n    });\n    animationRunning = true;\n    setUpdated(!updated);\n  };\n\n  const hoverOver = column => {\n    if (gameOver || animationRunning) {\n      return;\n    }\n\n    hoverColumn = column;\n    setUpdated(!updated);\n  };\n\n  const resetGame = () => {\n    gameOver = false;\n    userOnePlays = [];\n    userTwoPlays = [];\n    userOneTurn = true;\n    hoverColumn = -1;\n    setAllPlays(Array(42).fill(0));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"backgroundStuff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"glow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"Connect Four\"), React.createElement(\"button\", {\n    onClick: resetGame,\n    className: \"resetButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, \"Reset\"), React.createElement(\"div\", {\n    className: \"grid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, emptyArray.map((element, i) => {\n    return React.createElement(Square, {\n      key: i.toString(),\n      id: i,\n      value: element,\n      handleClick: handleClick,\n      topSquare: true,\n      hoverColumn: gameOver ? -1 : hoverColumn,\n      hoverOver: hoverOver,\n      userOneTurn: userOneTurn,\n      runAnimation: runAnimation,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    });\n  }), allPlays.map((element, i) => {\n    return React.createElement(Square, {\n      key: i.toString(),\n      id: i,\n      value: element,\n      handleClick: handleClick,\n      topSquare: false,\n      hoverColumn: gameOver ? -1 : hoverColumn,\n      hoverOver: hoverOver,\n      userOneTurn: userOneTurn,\n      runAnimation: runAnimation,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    });\n  }), true ? null : React.createElement(\"img\", {\n    className: animationRunning ? \"tempFaceAnimation\" : \"tempFace\",\n    src: animationRunning ? red : blank,\n    alt: blank,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  })));\n};\n\nexport default Board;","map":{"version":3,"sources":["/Users/ryzm/Desktop/connect-four/src/Board.js"],"names":["React","useState","Square","wc","red","blue","blank","winConditions","userOnePlays","userTwoPlays","gameOver","userOneTurn","emptyArray","Array","fill","hoverColumn","animationRunning","baseSpeed","finalTop","dropTime","Board","allPlays","setAllPlays","updated","setUpdated","checkIfWinner","length","getAllWinConditions","checkIfUserIsWinner","alert","user","userPlays","userWins","i","curWinCondition","j","includes","handleClick","column","index","push","runAnimation","percentage","time","sqrDex","toString","Object","keys","map","key","value","document","documentElement","style","setProperty","hoverOver","resetGame","element"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Square from \"./Square.js\";\nimport wc from './WinningConditions.js';\nimport red from './red.png'\nimport blue from './blue.png'\nimport blank from './blank.png'\nlet winConditions = []\nlet userOnePlays = []\nlet userTwoPlays = []\nlet gameOver = false\nlet userOneTurn = true\nlet emptyArray = Array(7).fill(0)\nlet hoverColumn = -1\nlet animationRunning = false\nlet baseSpeed = 1.5;\nconst finalTop = {\n  \"--finalTop\": \"500%\"\n};\nconst dropTime = {\n  \"--dropTime\": \"1.5s\"\n};\nconst Board = () => {\n\n  const [allPlays, setAllPlays] = useState(Array(42).fill(0))\n  const [updated, setUpdated] = useState(false)\n  \n  const checkIfWinner = () =>{\n    if(winConditions.length == 0){\n      winConditions = wc.getAllWinConditions();\n    }\n    if(userOneTurn){\n      if(checkIfUserIsWinner(1)){\n        gameOver = true\n        hoverColumn = -1\n        alert(\"User One Wins!\")\n      }\n    }\n    else{\n      if(checkIfUserIsWinner(2)){\n        gameOver = true\n        hoverColumn = -1\n        alert(\"User Two Wins!\")\n      }\n    }\n  }\n\n  const checkIfUserIsWinner = (user) => {\n    let userPlays = user == 1 ? userOnePlays : userTwoPlays;\n    let userWins = false;\n    for(let i = 0; i < winConditions.length; i++){\n      let curWinCondition = winConditions[i];\n      userWins = true;\n      for(let j = 0; j < 4; j++){\n        if(!userPlays.includes(curWinCondition[j])){\n          userWins = false;\n          break;\n        }\n      }\n      if(userWins){\n        break;\n      }\n    }\n    return userWins;\n  }\n\n  const handleClick = (column) => {\n    animationRunning = false\n    if(allPlays[column] != 0){\n      return;\n    }\n    if(gameOver){\n      return;\n    }\n    let index = 0\n    for(let i = 0; i < 6; i++){\n      index = column + (5 - i) * 7;\n      if(allPlays[index] === 0){\n        if(userOneTurn){\n          userOnePlays.push(index)\n        }\n        else{\n          userTwoPlays.push(index)\n        }\n        break;\n      }\n    }\n    allPlays[index] = userOneTurn ? 1 : 2;\n    checkIfWinner();\n    if(!gameOver){\n      userOneTurn = !userOneTurn\n    }\n    setAllPlays(allPlays)\n    setUpdated(!updated)\n  }\n\n  const runAnimation = (column) => {\n    let percentage = \"0%\";\n    let time = \".5s\";\n    for(let i = 0; i < 6; i++){\n      let sqrDex = (5-i)*7 + column;\n      if(allPlays[sqrDex] === 0){\n        percentage = ((5-i) * 100 + 100).toString() + \"%\"\n        break;\n      }\n    }\n    Object.keys(finalTop).map(key => {\n      finalTop[key] = percentage\n      const value = finalTop[key];\n      document.documentElement.style.setProperty(key, value);\n    });\n    Object.keys(dropTime).map(key => {\n      dropTime[key] = time\n      const value = dropTime[key];\n      document.documentElement.style.setProperty(key, value);\n    });\n    animationRunning = true\n    setUpdated(!updated)\n  }\n\n  const hoverOver = (column) => {\n    if(gameOver || animationRunning){\n      return;\n    }\n    hoverColumn = column\n    setUpdated(!updated)\n  }\n\n  const resetGame = () =>{\n    gameOver = false\n    userOnePlays = []\n    userTwoPlays = []\n    userOneTurn = true\n    hoverColumn = -1\n    setAllPlays(Array(42).fill(0))\n  }\n\n  return (\n    <div className = \"backgroundStuff\">\n      <h1 className = \"glow\">Connect Four</h1>\n      <button onClick = {resetGame} className = \"resetButton\">Reset</button>\n      <div className = \"grid\">\n        {emptyArray.map((element,i) =>{\n              return(\n                <Square key = {i.toString()} id = {i} value = {element} handleClick = {handleClick} topSquare = {true} hoverColumn = {gameOver ? -1 : hoverColumn} hoverOver = {hoverOver} userOneTurn = {userOneTurn} runAnimation = {runAnimation}/>)\n          })}\n        {allPlays.map((element,i) =>{\n            return(\n              <Square key = {i.toString()} id = {i} value = {element} handleClick = {handleClick} topSquare = {false} hoverColumn = {gameOver ? -1 : hoverColumn} hoverOver = {hoverOver} userOneTurn = {userOneTurn} runAnimation = {runAnimation}/>)\n          })}\n          {true ? null : <img className = {animationRunning ? \"tempFaceAnimation\" : \"tempFace\"} src = {animationRunning ? red: blank} alt = {blank}></img>}\n      </div>\n      \n    </div>\n  );\n}\n\nexport default Board;\n"]},"metadata":{},"sourceType":"module"}